<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Profile | HackConnect</title>
    <meta name="description" content="Set up your HackConnect profile to get personalized hackathon recommendations.">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../components/auth.css">
    <link rel="stylesheet" href="../components/onboarding.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="onboarding">
        <header class="onboarding-header">
            <div class="logo">
                <a href="../index.html">
                    <img src="../assets/images/logo.svg" alt="HackConnect Logo">
                    <span>HackConnect</span>
                </a>
            </div>
            <div class="onboarding-progress">
                <div class="onboarding-steps">
                    <div class="step completed" data-step="1">
                        <div class="step__circle"></div>
                        <div class="step__label">Account</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step__circle"></div>
                        <div class="step__label">Profile</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step__circle"></div>
                        <div class="step__label">Skills</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step__circle"></div>
                        <div class="step__label">Interests</div>
                    </div>
                    <div class="step" data-step="5">
                        <div class="step__circle"></div>
                        <div class="step__label">Links</div>
                    </div>
                    <div class="step" data-step="6">
                        <div class="step__circle"></div>
                        <div class="step__label">Complete</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress" style="width: 20%"></div>
                </div>
            </div>
        </header>
        
        <main class="onboarding-content">
            <!-- Step 2: Profile -->
            <div class="step-container" id="step-2">
                <div class="step-header">
                    <h1>Set Up Your Profile</h1>
                    <p>Tell us more about yourself so we can personalize your experience.</p>
                </div>
                
                <div class="onboarding-form">
                    <form class="form">
                        <div class="avatar-upload">
                            <div class="avatar-upload__preview">
                                <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff&size=200" alt="Profile Picture">
                                <div class="avatar-upload__actions-overlay">
                                    <label for="avatarUpload" class="avatar-upload__change">
                                        <i class="fas fa-camera"></i>
                                    </label>
                                </div>
                            </div>
                            <div class="avatar-upload__options">
                                <h3>Profile Picture</h3>
                                <p>Upload a clear photo of yourself to help team members recognize you.</p>
                                <div class="avatar-upload__actions">
                                    <label for="avatarUpload" class="btn btn--outline btn--sm">
                                        <i class="fas fa-upload"></i>
                                        Upload Photo
                                    </label>
                                    <input type="file" id="avatarUpload" class="visually-hidden" accept="image/*">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-card">
                            <h2 class="form-card__title">Personal Information</h2>
                            
                            <div class="form__row">
                                <div class="form__group">
                                    <label for="firstName">First Name</label>
                                    <input type="text" id="firstName" name="firstName" value="John" required>
                                </div>
                                
                                <div class="form__group">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" id="lastName" name="lastName" value="Doe" required>
                                </div>
                            </div>
                            
                            <div class="form__group">
                                <label for="headline">Professional Headline</label>
                                <input type="text" id="headline" name="headline" placeholder="e.g. Full Stack Developer, UX Designer, Data Scientist" required>
                                <div class="form__hint">A brief description of what you do</div>
                            </div>
                            
                            <div class="form__group">
                                <label for="bio">About Me</label>
                                <textarea id="bio" name="bio" rows="3" placeholder="Share a bit about your background, interests, and what you're looking to achieve."></textarea>
                                <div class="character-count"><span id="bioCount">0</span>/250 characters</div>
                            </div>
                        </div>
                        
                        <div class="form-card">
                            <h2 class="form-card__title">Contact & Location</h2>
                            
                            <div class="form__row">
                                <div class="form__group">
                                    <label for="location">Location</label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <input type="text" id="location" name="location" placeholder="City, Country">
                                    </div>
                                </div>
                                
                                <div class="form__group">
                                    <label for="timezone">Timezone</label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-globe"></i>
                                        <select id="timezone" name="timezone">
                                            <option value="" disabled selected>Select your timezone</option>
                                            <option value="GMT-8">Pacific Time (GMT-8)</option>
                                            <option value="GMT-5">Eastern Time (GMT-5)</option>
                                            <option value="GMT+0">GMT</option>
                                            <option value="GMT+1">Central European Time (GMT+1)</option>
                                            <option value="GMT+5:30">Indian Standard Time (GMT+5:30)</option>
                                            <option value="GMT+8">China Standard Time (GMT+8)</option>
                                            <option value="GMT+9">Japan Standard Time (GMT+9)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-card">
                            <h2 class="form-card__title">Experience & Education</h2>
                            
                            <div class="form__group">
                                <label for="currentRole">Current Role</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-briefcase"></i>
                                    <input type="text" id="currentRole" name="currentRole" placeholder="e.g. Software Engineer at Tech Company">
                                </div>
                            </div>

                            <div class="form__group">
                                <label for="education">Highest Education</label>
                                <div class="input-with-icon">
                                    <i class="fas fa-graduation-cap"></i>
                                    <input type="text" id="education" name="education" placeholder="e.g. Bachelor's in Computer Science, University Name">
                                </div>
                            </div>
                        </div>

                        <div class="form-navigation">
                            <button type="button" class="btn btn--text" data-direction="prev">Back</button>
                            <button type="button" class="btn btn--primary" data-direction="next">Continue to Skills</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Step 3: Skills -->
            <div class="step-container" id="step-3">
                <div class="step-header">
                    <h1>Your Skills</h1>
                    <p>Select the skills you have to help us match you with relevant hackathons and teammates.</p>
                </div>
                
                <div class="onboarding-form">
                    <form class="form">
                        <div class="form-card">
                            <div class="skill-search-container">
                                <div class="skill-search-wrapper">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="skillSearch" placeholder="Search for skills or add your own">
                                    <button type="button" id="addCustomSkill" class="btn btn--primary btn--sm">
                                        Add
                                    </button>
                                </div>
                            </div>
                            
                            <div class="skills-content">
                                <div class="skills-selected">
                                    <h3>Your Skills <span id="skillCount" class="skill-count">(0)</span></h3>
                                    <div class="empty-state" id="emptySkillsState">
                                        <i class="fas fa-lightbulb"></i>
                                        <p>Select skills from suggestions below or search for more.</p>
                                    </div>
                                    <div class="skill-chips" id="selectedSkills"></div>
                                </div>
                                
                                <div class="skills-suggestions">
                                    <h3>Popular Skills</h3>
                                    <div class="skill-chips" id="suggestedSkills">
                                        <span class="skill-chip">JavaScript</span>
                                        <span class="skill-chip">React</span>
                                        <span class="skill-chip">Node.js</span>
                                        <span class="skill-chip">Python</span>
                                        <span class="skill-chip">UI/UX</span>
                                        <span class="skill-chip">Flutter</span>
                                        <span class="skill-chip">AWS</span>
                                        <span class="skill-chip">Docker</span>
                                        <span class="skill-chip">Firebase</span>
                                        <span class="skill-chip">TypeScript</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-card">
                            <h2 class="form-card__title">Skill Proficiency</h2>
                            <p class="form-card__description">How would you rate your proficiency in your top skills?</p>
                            
                            <div id="skillProficiency" class="skill-proficiency">
                                <div class="empty-state">
                                    <i class="fas fa-chart-bar"></i>
                                    <p>Add skills above to rate your proficiency level.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-card">
                            <h2 class="form-card__title">Soft Skills</h2>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="teamwork"> Teamwork
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="communication"> Communication
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="leadership"> Leadership
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="problem-solving"> Problem-solving
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="time-management"> Time Management
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="adaptability"> Adaptability
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="creativity"> Creativity
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="soft-skills" value="critical-thinking"> Critical Thinking
                                </label>
                            </div>
                        </div>

                        <div class="form-navigation">
                            <button type="button" class="btn btn--outline" data-direction="prev">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button type="button" class="btn btn--primary" data-direction="next">
                                Continue <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Step 4: Interests -->
            <div class="step-container" id="step-4">
                <div class="step-header">
                    <h1>Your Interests</h1>
                    <p>Tell us what topics and industries interest you most so we can recommend relevant hackathons.</p>
                </div>
                
                <div class="onboarding-form">
                    <form class="form">
                        <div class="form-card">
                            <h2 class="form-card__title">Hackathon Types</h2>
                            <div class="interest-cards">
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-ai" name="interests[]" value="AI/ML">
                                    <label for="interest-ai">
                                        <i class="fas fa-brain"></i>
                                        <span>AI & ML</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-web" name="interests[]" value="Web Development">
                                    <label for="interest-web">
                                        <i class="fas fa-globe"></i>
                                        <span>Web Development</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-mobile" name="interests[]" value="Mobile Apps">
                                    <label for="interest-mobile">
                                        <i class="fas fa-mobile-alt"></i>
                                        <span>Mobile Apps</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-blockchain" name="interests[]" value="Blockchain">
                                    <label for="interest-blockchain">
                                        <i class="fas fa-link"></i>
                                        <span>Blockchain</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-game" name="interests[]" value="Game Development">
                                    <label for="interest-game">
                                        <i class="fas fa-gamepad"></i>
                                        <span>Game Development</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-iot" name="interests[]" value="IoT">
                                    <label for="interest-iot">
                                        <i class="fas fa-microchip"></i>
                                        <span>IoT</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-cybersecurity" name="interests[]" value="Cybersecurity">
                                    <label for="interest-cybersecurity">
                                        <i class="fas fa-shield-alt"></i>
                                        <span>Cybersecurity</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-data" name="interests[]" value="Data Science">
                                    <label for="interest-data">
                                        <i class="fas fa-chart-bar"></i>
                                        <span>Data Science</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-ar-vr" name="interests[]" value="AR/VR">
                                    <label for="interest-ar-vr">
                                        <i class="fas fa-vr-cardboard"></i>
                                        <span>AR/VR</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-devops" name="interests[]" value="DevOps">
                                    <label for="interest-devops">
                                        <i class="fas fa-cogs"></i>
                                        <span>DevOps</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-hardware" name="interests[]" value="Hardware">
                                    <label for="interest-hardware">
                                        <i class="fas fa-microchip"></i>
                                        <span>Hardware</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="interest-cloud" name="interests[]" value="Cloud">
                                    <label for="interest-cloud">
                                        <i class="fas fa-cloud"></i>
                                        <span>Cloud Computing</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-card">
                            <h2 class="form-card__title">Industries</h2>
                            <div class="interest-cards">
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-health" name="industries[]" value="Healthcare">
                                    <label for="industry-health">
                                        <i class="fas fa-heartbeat"></i>
                                        <span>Healthcare</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-fintech" name="industries[]" value="Fintech">
                                    <label for="industry-fintech">
                                        <i class="fas fa-money-bill-wave"></i>
                                        <span>Fintech</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-edtech" name="industries[]" value="Education">
                                    <label for="industry-edtech">
                                        <i class="fas fa-graduation-cap"></i>
                                        <span>Education</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-sustainability" name="industries[]" value="Sustainability">
                                    <label for="industry-sustainability">
                                        <i class="fas fa-leaf"></i>
                                        <span>Sustainability</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-social" name="industries[]" value="Social Impact">
                                    <label for="industry-social">
                                        <i class="fas fa-hands-helping"></i>
                                        <span>Social Impact</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-ecommerce" name="industries[]" value="E-commerce">
                                    <label for="industry-ecommerce">
                                        <i class="fas fa-shopping-cart"></i>
                                        <span>E-commerce</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-entertainment" name="industries[]" value="Entertainment">
                                    <label for="industry-entertainment">
                                        <i class="fas fa-film"></i>
                                        <span>Entertainment</span>
                                    </label>
                                </div>
                                <div class="interest-card">
                                    <input type="checkbox" id="industry-transport" name="industries[]" value="Transportation">
                                    <label for="industry-transport">
                                        <i class="fas fa-bus"></i>
                                        <span>Transportation</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-card">
                            <h2 class="form-card__title">Hackathon Preferences</h2>
                            
                            <div class="form__group">
                                <label>Preferred hackathon format</label>
                                <div class="format-options">
                                    <div class="format-option">
                                        <input type="radio" name="hackathonFormat" id="format-in-person" value="in-person">
                                        <label for="format-in-person">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>In-person only</span>
                                        </label>
                                    </div>
                                    <div class="format-option">
                                        <input type="radio" name="hackathonFormat" id="format-virtual" value="virtual">
                                        <label for="format-virtual">
                                            <i class="fas fa-laptop"></i>
                                            <span>Virtual only</span>
                                        </label>
                                    </div>
                                    <div class="format-option">
                                        <input type="radio" name="hackathonFormat" id="format-hybrid" value="hybrid" checked>
                                        <label for="format-hybrid">
                                            <i class="fas fa-laptop-house"></i>
                                            <span>Both (hybrid)</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form__group">
                                <label>Team preference</label>
                                <div class="format-options">
                                    <div class="format-option">
                                        <input type="radio" name="teamPreference" id="team-join" value="join">
                                        <label for="team-join">
                                            <i class="fas fa-user-plus"></i>
                                            <span>Join existing teams</span>
                                        </label>
                                    </div>
                                    <div class="format-option">
                                        <input type="radio" name="teamPreference" id="team-create" value="create">
                                        <label for="team-create">
                                            <i class="fas fa-users-cog"></i>
                                            <span>Create my own team</span>
                                        </label>
                                    </div>
                                    <div class="format-option">
                                        <input type="radio" name="teamPreference" id="team-either" value="either" checked>
                                        <label for="team-either">
                                            <i class="fas fa-random"></i>
                                            <span>Either option</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-navigation">
                            <button type="button" class="btn btn--text" data-direction="prev">Back to Skills</button>
                            <button type="button" class="btn btn--primary" data-direction="next">Complete Profile</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Step 5: Social Links (New Section) -->
            <div class="step-container" id="step-5">
                <div class="step-header">
                    <h1>Social & Professional Links</h1>
                    <p>Add links to your profiles so team members can learn more about you</p>
                </div>
                
                <div class="onboarding-form">
                    <form class="form">
                        <div class="form-card">
                            <div class="social-links">
                                <div class="form__group">
                                    <label for="github">GitHub Profile</label>
                                    <div class="input-with-icon">
                                        <i class="fab fa-github"></i>
                                        <input type="text" id="github" name="github" placeholder="https://github.com/username">
                                    </div>
                                </div>
                                
                                <div class="form__group">
                                    <label for="linkedin">LinkedIn Profile</label>
                                    <div class="input-with-icon">
                                        <i class="fab fa-linkedin"></i>
                                        <input type="text" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/username">
                                    </div>
                                </div>
                                
                                <div class="form__group">
                                    <label for="portfolio">Portfolio/Personal Website</label>
                                    <div class="input-with-icon">
                                        <i class="fas fa-globe"></i>
                                        <input type="text" id="portfolio" name="portfolio" placeholder="https://yourwebsite.com">
                                    </div>
                                </div>
                                
                                <div class="form__group">
                                    <label for="twitter">Twitter/X</label>
                                    <div class="input-with-icon">
                                        <i class="fab fa-twitter"></i>
                                        <input type="text" id="twitter" name="twitter" placeholder="https://twitter.com/username">
                                    </div>
                                </div>
                                
                                <div class="form__group">
                                    <label for="dribbble">Dribbble</label>
                                    <div class="input-with-icon">
                                        <i class="fab fa-dribbble"></i>
                                        <input type="text" id="dribbble" name="dribbble" placeholder="https://dribbble.com/username">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form__group">
                                <label class="checkbox">
                                    <input type="checkbox" id="profile-visibility" checked>
                                    <span>Make my profile visible to other hackathon participants</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-navigation">
                            <button type="button" class="btn btn--outline" data-direction="prev">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button type="button" class="btn btn--primary" data-direction="next">
                                Complete Profile <i class="fas fa-check"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Step 6: Complete (Updated) -->
            <div class="step-container" id="step-6">
                <div class="completion">
                    <div class="completion__icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h1>You're all set!</h1>
                    <p>Your profile has been successfully created and you're ready to start your hackathon journey.</p>
                    <div class="completion__stats">
                        <div class="completion-stat">
                            <div class="completion-stat__icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="completion-stat__info">
                                <h3>15+ hackathons</h3>
                                <p>that match your profile</p>
                            </div>
                        </div>
                        <div class="completion-stat">
                            <div class="completion-stat__icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="completion-stat__info">
                                <h3>120+ potential teammates</h3>
                                <p>with complementary skills</p>
                            </div>
                        </div>
                    </div>
                    <div class="completion__actions">
                        <a href="dashboard.html" class="btn btn--primary btn--large">Go to Dashboard</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize variables
            const steps = document.querySelectorAll('.step');
            const stepContainers = document.querySelectorAll('.step-container');
            const progressBar = document.querySelector('.progress');
            const navigationBtns = document.querySelectorAll('[data-direction]');
            let currentStep = 2; // Starting with Profile (step 2)
            const totalSteps = 6; // Updated total steps
            
            // Character counter for bio
            const bioTextarea = document.getElementById('bio');
            const bioCount = document.getElementById('bioCount');
            
            if (bioTextarea && bioCount) {
                bioTextarea.addEventListener('input', function() {
                    const count = this.value.length;
                    bioCount.textContent = count;
                    
                    if (count > 250) {
                        bioTextarea.value = bioTextarea.value.substring(0, 250);
                        bioCount.textContent = 250;
                    }
                });
            }
            
            // Initialize - show current step only
            updateStepDisplay();
            
            // Navigation button event listeners
            navigationBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const direction = this.getAttribute('data-direction');
                    
                    if (direction === 'next') {
                        if (currentStep < totalSteps) {
                            currentStep++;
                            updateStepDisplay();
                        }
                    } else if (direction === 'prev') {
                        if (currentStep > 1) {
                            currentStep--;
                            updateStepDisplay();
                        }
                    }
                });
            });
            
            // Function to update the display based on current step
            function updateStepDisplay() {
                // Update step indicators
                steps.forEach((step, index) => {
                    // Converting from 0-based index to 1-based step number
                    const stepNumber = index + 1;
                    
                    if (stepNumber < currentStep) {
                        step.classList.add('completed');
                        step.classList.remove('active');
                    } else if (stepNumber === currentStep) {
                        step.classList.add('active');
                        step.classList.remove('completed');
                    } else {
                        step.classList.remove('active', 'completed');
                    }
                });
                
                // Update progress bar
                const progressPercent = ((currentStep - 1) / (totalSteps - 1)) * 100;
                progressBar.style.width = `${progressPercent}%`;
                
                // Show current step container, hide others
                stepContainers.forEach(container => {
                    const stepId = container.id;
                    const stepNumber = parseInt(stepId.split('-')[1]);
                    
                    if (stepNumber === currentStep) {
                        container.classList.add('active');
                        // Smooth scroll to top
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    } else {
                        container.classList.remove('active');
                    }
                });
            }
            
            // Skills selection functionality
            const suggestedSkills = document.querySelectorAll('#suggestedSkills .skill-chip');
            const selectedSkills = document.getElementById('selectedSkills');
            const emptySkillsState = document.getElementById('emptySkillsState');
            const skillCount = document.getElementById('skillCount');
            const skillProficiency = document.getElementById('skillProficiency');
            const addCustomSkill = document.getElementById('addCustomSkill');
            const skillSearch = document.getElementById('skillSearch');
            
            if (suggestedSkills && selectedSkills) {
                // Click on suggested skills to select them
                suggestedSkills.forEach(skill => {
                    skill.addEventListener('click', function() {
                        const skillText = this.textContent;
                        addSkill(skillText);
                    });
                });
                
                // Add custom skill
                if (addCustomSkill && skillSearch) {
                    addCustomSkill.addEventListener('click', function() {
                        const skillText = skillSearch.value.trim();
                        if (skillText) {
                            addSkill(skillText);
                            skillSearch.value = '';
                        }
                    });
                    
                    // Add skill on enter key
                    skillSearch.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            const skillText = this.value.trim();
                            if (skillText) {
                                addSkill(skillText);
                                this.value = '';
                            }
                        }
                    });
                }
                
                function addSkill(skillText) {
                    // Check if skill already exists
                    const existingSkills = Array.from(selectedSkills.children).map(chip => 
                        chip.textContent.trim().toLowerCase()
                    );
                    
                    if (existingSkills.includes(skillText.toLowerCase())) {
                        return;
                    }
                    
                    // Hide empty state if it's the first skill
                    if (existingSkills.length === 0 && emptySkillsState) {
                        emptySkillsState.style.display = 'none';
                    }
                    
                    // Create new skill chip
                    const skillChip = document.createElement('span');
                    skillChip.className = 'skill-chip selected new';
                    skillChip.innerHTML = `${skillText} <i class="fas fa-times"></i>`;
                    
                    // Add delete handler
                    skillChip.querySelector('i').addEventListener('click', function(e) {
                        e.stopPropagation();
                        selectedSkills.removeChild(skillChip);
                        updateSkillCount();
                        updateProficiencySection();
                        
                        // Show empty state if no skills left
                        if (selectedSkills.children.length === 0 && emptySkillsState) {
                            emptySkillsState.style.display = 'block';
                        }
                    });
                    
                    selectedSkills.appendChild(skillChip);
                    updateSkillCount();
                    updateProficiencySection();
                }
                
                function updateSkillCount() {
                    if (skillCount) {
                        const count = selectedSkills.children.length;
                        skillCount.textContent = `(${count})`;
                    }
                }
                
                function updateProficiencySection() {
                    if (!skillProficiency) return;
                    
                    const skills = Array.from(selectedSkills.children).map(chip => 
                        chip.textContent.trim().replace(/\s*×\s*$/, '')
                    );
                    
                    if (skills.length === 0) {
                        skillProficiency.innerHTML = `
                            <div class="empty-state">
                                <i class="fas fa-chart-bar"></i>
                                <p>Add skills above to rate your proficiency level.</p>
                            </div>
                        `;
                        return;
                    }
                    
                    let html = '';
                    
                    // Limit to top 5 skills
                    const topSkills = skills.slice(0, 5);
                    
                    topSkills.forEach((skill, index) => {
                        html += `
                            <div class="proficiency-item" data-skill="${skill}">
                                <div class="proficiency-name">${skill}</div>
                                <div class="proficiency-levels levels-4">
                                    <div class="proficiency-level">
                                        <input type="radio" name="proficiency-${index}" id="proficiency-${index}-1" value="1">
                                        <label for="proficiency-${index}-1">Beginner</label>
                                    </div>
                                    <div class="proficiency-level">
                                        <input type="radio" name="proficiency-${index}" id="proficiency-${index}-2" value="2" checked>
                                        <label for="proficiency-${index}-2">Intermediate</label>
                                    </div>
                                    <div class="proficiency-level">
                                        <input type="radio" name="proficiency-${index}" id="proficiency-${index}-3" value="3">
                                        <label for="proficiency-${index}-3">Advanced</label>
                                    </div>
                                    <div class="proficiency-level">
                                        <input type="radio" name="proficiency-${index}" id="proficiency-${index}-4" value="4">
                                        <label for="proficiency-${index}-4">Expert</label>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    
                    skillProficiency.innerHTML = html;
                }
            }
        });
    </script>
    <script src="../assets/js/onboarding.js"></script>
</body>
</html>
