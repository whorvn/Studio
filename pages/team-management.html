<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Teams | HackConnect</title>
    <meta name="description" content="Manage your hackathon teams">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../components/dashboard.css">
    <link rel="stylesheet" href="../components/team-management.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="light-theme">
    <div class="dashboard-layout">
        <aside class="sidebar">
            <div class="sidebar__header">
                <div class="logo">
                    <a href="../index.html">
                        <img src="../assets/images/logo.svg" alt="HackConnect Logo">
                        <span>HackConnect</span>
                    </a>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar__nav">
                <ul class="sidebar__menu">
                    <li class="sidebar__item">
                        <a href="dashboard.html">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="browse.html">
                            <i class="fas fa-search"></i>
                            <span>Browse Hackathons</span>
                        </a>
                    </li>
                    <li class="sidebar__item active">
                        <a href="team-management.html">
                            <i class="fas fa-users"></i>
                            <span>My Teams</span>
                        </a>
                    </li>
                </ul>
                
                <div class="sidebar__divider"></div>
                
                <ul class="sidebar__menu">
                    <li class="sidebar__item">
                        <a href="profile.html">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="#" class="text-error">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar__footer">
                <div class="user-card">
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff" alt="John Doe" class="avatar">
                    <div class="user-card__info">
                        <p class="user-card__name">John Doe</p>
                        <p class="user-card__status online">Online</p>
                    </div>
                </div>
            </div>
        </aside>
        
        <div class="main-content">
            <header class="topbar">
                <div class="topbar__left">
                    <button class="menu-toggle" id="mobileMenuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="topbar__title">My Teams</h1>
                </div>
                
                <div class="topbar__right">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search teams...">
                    </div>
                    
                    <div class="notifications">
                        <button class="notifications__toggle" data-count="2">
                            <i class="far fa-bell"></i>
                        </button>
                    </div>
                    
                    <div class="user-menu">
                        <button class="user-menu__toggle">
                            <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff" alt="John Doe" class="avatar avatar--sm">
                            <span>John</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
            </header>
            
            <main class="teams-container">
                <div class="teams-header">
                    <div class="teams-header__text">
                        <h2>Your Teams</h2>
                        <p>Create and manage your teams for hackathons</p>
                    </div>
                </div>
                
                <div class="teams-filter">
                    <div class="teams-filter__actions">
                        <button class="btn btn--outline" id="joinTeamBtn">
                            <i class="fas fa-user-plus"></i> Join Team
                        </button>
                        <button class="btn btn--primary" id="createTeamBtn">
                            <i class="fas fa-plus"></i> Create New Team
                        </button>
                    </div>
                </div>
                
                <!-- Teams Grid -->
                <div class="teams-grid">
                    <!-- Team Card 1 - Code Crusaders -->
                    <div class="team-card" data-team-status="active">
                        <div class="team-card__header">
                            <div class="team-card__avatar">
                                <img src="https://ui-avatars.com/api/?name=Code+Crusaders&background=635BFF&color=fff" alt="Code Crusaders">
                            </div>
                            <div class="team-card__info">
                                <h3 class="team-card__name">Code Crusaders</h3>
                                <div class="team-card__meta">
                                    <span><i class="fas fa-users"></i> 4 Members</span>
                                    <span><i class="fas fa-calendar"></i> Created May 2023</span>
                                </div>
                            </div>
                            <div class="team-card__menu">
                                <button class="btn--icon" aria-label="More options">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="team-card__dropdown">
                                    <a href="#" class="team-card__dropdown-item" data-action="edit">
                                        <i class="fas fa-edit"></i> Edit Team
                                    </a>
                                    <a href="#" class="team-card__dropdown-item" data-action="invite">
                                        <i class="fas fa-user-plus"></i> Invite Members
                                    </a>
                                    <a href="#" class="team-card__dropdown-item text-danger" data-action="delete">
                                        <i class="fas fa-trash"></i> Delete Team
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__body">
                            <div class="team-card__section">
                                <h4>Team Members</h4>
                                <div class="team-members">
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff" alt="John Doe" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">John Doe</p>
                                            <p class="member__role">Team Lead</p>
                                        </div>
                                    </div>
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=Sarah+Johnson&background=10b981&color=fff" alt="Sarah Johnson" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">Sarah Johnson</p>
                                            <p class="member__role">UI Designer</p>
                                        </div>
                                    </div>
                                    <div class="team-members__more">
                                        <span>+2 more</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__footer">
                            <a href="team-detail.html?id=1" class="btn btn--primary btn--full">
                                Manage Team
                            </a>
                        </div>
                    </div>
                    
                    <!-- Team Card 2 - Tech Titans -->
                    <div class="team-card" data-team-status="inactive">
                        <div class="team-card__header">
                            <div class="team-card__avatar">
                                <img src="https://ui-avatars.com/api/?name=Tech+Titans&background=FF6B6B&color=fff" alt="Tech Titans">
                            </div>
                            <div class="team-card__info">
                                <h3 class="team-card__name">Tech Titans</h3>
                                <div class="team-card__meta">
                                    <span><i class="fas fa-users"></i> 3 Members</span>
                                    <span><i class="fas fa-calendar"></i> Created April 2023</span>
                                </div>
                            </div>
                            <div class="team-card__menu">
                                <button class="btn--icon" aria-label="More options">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="team-card__dropdown">
                                    <a href="#" class="team-card__dropdown-item" data-action="edit">
                                        <i class="fas fa-edit"></i> Edit Team
                                    </a>
                                    <a href="#" class="team-card__dropdown-item" data-action="invite">
                                        <i class="fas fa-user-plus"></i> Invite Members
                                    </a>
                                    <a href="#" class="team-card__dropdown-item text-danger" data-action="delete">
                                        <i class="fas fa-trash"></i> Delete Team
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__body">
                            <div class="team-card__section">
                                <h4>Team Members</h4>
                                <div class="team-members">
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff" alt="John Doe" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">John Doe</p>
                                            <p class="member__role">Backend Developer</p>
                                        </div>
                                    </div>
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=Mike+Chen&background=8b5cf6&color=fff" alt="Mike Chen" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">Mike Chen</p>
                                            <p class="member__role">Frontend Developer</p>
                                        </div>
                                    </div>
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=Alex+Wong&background=ec4899&color=fff" alt="Alex Wong" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">Alex Wong</p>
                                            <p class="member__role">UX Designer</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__footer">
                            <a href="team-detail.html?id=2" class="btn btn--primary btn--full">
                                Manage Team
                            </a>
                        </div>
                    </div>
                    
                    <!-- Team Card 3 - Innovators -->
                    <div class="team-card" data-team-status="completed">
                        <div class="team-card__header">
                            <div class="team-card__avatar">
                                <img src="https://ui-avatars.com/api/?name=Innovators&background=0EA5E9&color=fff" alt="Innovators">
                            </div>
                            <div class="team-card__info">
                                <h3 class="team-card__name">Innovators</h3>
                                <div class="team-card__meta">
                                    <span><i class="fas fa-users"></i> 4 Members</span>
                                    <span><i class="fas fa-calendar"></i> Created January 2023</span>
                                </div>
                            </div>
                            <div class="team-card__menu">
                                <button class="btn--icon" aria-label="More options">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="team-card__dropdown">
                                    <a href="#" class="team-card__dropdown-item" data-action="edit">
                                        <i class="fas fa-edit"></i> Edit Team
                                    </a>
                                    <a href="#" class="team-card__dropdown-item" data-action="invite">
                                        <i class="fas fa-user-plus"></i> Invite Members
                                    </a>
                                    <a href="#" class="team-card__dropdown-item text-danger" data-action="delete">
                                        <i class="fas fa-trash"></i> Delete Team
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__body">
                            <div class="team-card__section">
                                <h4>Team Members</h4>
                                <div class="team-members">
                                    <div class="member">
                                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=4f46e5&color=fff" alt="John Doe" class="member__avatar">
                                        <div class="member__info">
                                            <p class="member__name">John Doe</p>
                                            <p class="member__role">Project Manager</p>
                                        </div>
                                    </div>
                                    <div class="team-members__more">
                                        <span>+3 more</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="team-card__footer">
                            <a href="team-detail.html?id=3" class="btn btn--primary btn--full">
                                View History
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Empty State (hidden by default) -->
                <div class="empty-state-container" style="display: none;">
                    <div class="empty-state-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>No teams yet</h3>
                    <p>Create a new team or join an existing one to collaborate with other developers on hackathons.</p>
                    <div class="empty-state-actions">
                        <button class="btn btn--outline" id="emptyJoinTeamBtn">
                            <i class="fas fa-user-plus"></i> Join Team
                        </button>
                        <button class="btn btn--primary" id="emptyCreateTeamBtn">
                            <i class="fas fa-plus"></i> Create Team
                        </button>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Create Team Modal -->
    <div class="modal" id="createTeamModal">
        <div class="modal__content modal__content--md">
            <button class="modal__close" aria-label="Close modal">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal__header">
                <h2>Create a New Team</h2>
                <p>Set up your team for hackathon collaborations</p>
            </div>
            <div class="modal__body">
                <form id="createTeamForm">
                    <div class="form__group">
                        <label for="teamName">Team Name*</label>
                        <input type="text" id="teamName" name="teamName" required placeholder="Enter a name for your team">
                    </div>
                    
                    <div class="form__group">
                        <label>Team Avatar</label>
                        <div class="avatar-upload">
                            <div class="avatar-preview">
                                <div id="teamAvatarPreview">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="avatar-edit">
                                <input type="file" id="teamAvatarUpload" accept=".png, .jpg, .jpeg">
                                <label for="teamAvatarUpload">Choose Image</label>
                                <p class="form__hint">Recommended: 200x200px JPG or PNG</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form__group">
                        <label for="teamDescription">Team Description</label>
                        <textarea id="teamDescription" name="teamDescription" rows="3" placeholder="Describe your team's skills and interests..."></textarea>
                    </div>
                    
                    <div class="form__group">
                        <label>Team Visibility</label>
                        <div class="radio-group">
                            <div class="radio">
                                <input type="radio" id="visibilityPublic" name="visibility" value="public" checked>
                                <label for="visibilityPublic">Public - Anyone can find and request to join</label>
                            </div>
                            <div class="radio">
                                <input type="radio" id="visibilityPrivate" name="visibility" value="private">
                                <label for="visibilityPrivate">Private - Only invited members can join</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal__footer">
                <button class="btn btn--outline" data-dismiss="modal">Cancel</button>
                <button class="btn btn--primary" id="createTeamSubmit">Create Team</button>
            </div>
        </div>
    </div>
    
    <!-- Join Team Modal -->
    <div class="modal" id="joinTeamModal">
        <div class="modal__content modal__content--md">
            <button class="modal__close" aria-label="Close modal">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal__header">
                <h2>Join a Team</h2>
                <p>Enter an invite code or search for teams to join</p>
            </div>
            <div class="modal__body">
                <div class="tabs">
                    <button class="tab active" data-tab="inviteCode">Invite Code</button>
                    <button class="tab" data-tab="searchTeams">Search Teams</button>
                </div>
                
                <div class="tab-content">
                    <div class="tab-pane active" id="inviteCodeTab">
                        <div class="form__group">
                            <label for="inviteCode">Enter Invite Code</label>
                            <input type="text" id="inviteCode" name="inviteCode" placeholder="e.g., TEAM-123456">
                        </div>
                    </div>
                    
                    <div class="tab-pane" id="searchTeamsTab">
                        <div class="form__group">
                            <label for="teamSearch">Search Teams</label>
                            <div class="search-input">
                                <i class="fas fa-search"></i>
                                <input type="text" id="teamSearch" name="teamSearch" placeholder="Search by team name...">
                            </div>
                        </div>
                        
                        <div class="search-results">
                            <div class="search-result">
                                <div class="search-result__avatar">
                                    <img src="https://ui-avatars.com/api/?name=Byte+Brigade&background=8B5CF6&color=fff" alt="Byte Brigade">
                                </div>
                                <div class="search-result__info">
                                    <h4>Byte Brigade</h4>
                                    <p>4 members · Looking for Frontend Developer</p>
                                </div>
                                <button class="btn btn--outline btn--sm">Request to Join</button>
                            </div>
                            <div class="search-result">
                                <div class="search-result__avatar">
                                    <img src="https://ui-avatars.com/api/?name=Dev+Dynasty&background=10B981&color=fff" alt="Dev Dynasty">
                                </div>
                                <div class="search-result__info">
                                    <h4>Dev Dynasty</h4>
                                    <p>3 members · Looking for UX Designer</p>
                                </div>
                                <button class="btn btn--outline btn--sm">Request to Join</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal__footer">
                <button class="btn btn--outline" data-dismiss="modal">Cancel</button>
                <button class="btn btn--primary" id="joinTeamSubmit">Join Team</button>
            </div>
        </div>
    </div>
    
    <script src="../main.js"></script>
    <script>
        // Team management related JavaScript will go here
        document.addEventListener('DOMContentLoaded', function() {
            // Open create team modal
            const createTeamBtn = document.getElementById('createTeamBtn');
            const emptyCreateTeamBtn = document.getElementById('emptyCreateTeamBtn');
            const createTeamModal = document.getElementById('createTeamModal');
            
            if(createTeamBtn) {
                createTeamBtn.addEventListener('click', function() {
                    createTeamModal.classList.add('show');
                });
            }
            
            if(emptyCreateTeamBtn) {
                emptyCreateTeamBtn.addEventListener('click', function() {
                    createTeamModal.classList.add('show');
                });
            }
            
            // Open join team modal
            const joinTeamBtn = document.getElementById('joinTeamBtn');
            const emptyJoinTeamBtn = document.getElementById('emptyJoinTeamBtn');
            const joinTeamModal = document.getElementById('joinTeamModal');
            
            if(joinTeamBtn) {
                joinTeamBtn.addEventListener('click', function() {
                    joinTeamModal.classList.add('show');
                });
            }
            
            if(emptyJoinTeamBtn) {
                emptyJoinTeamBtn.addEventListener('click', function() {
                    joinTeamModal.classList.add('show');
                });
            }
            
            // Close modals
            const modalCloseButtons = document.querySelectorAll('.modal__close, [data-dismiss="modal"]');
            modalCloseButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    if(modal) {
                        modal.classList.remove('show');
                    }
                });
            });
            
            // Tab functionality in join team modal
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Show the corresponding tab content
                    const tabId = this.getAttribute('data-tab');
                    document.querySelectorAll('.tab-pane').forEach(pane => {
                        pane.classList.remove('active');
                    });
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                });
            });
            
            // Filter team cards
            const filterTabs = document.querySelectorAll('.filter-tab');
            filterTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    filterTabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Filter teams
                    const filter = this.getAttribute('data-filter');
                    const teamCards = document.querySelectorAll('.team-card');
                    
                    teamCards.forEach(card => {
                        if(filter === 'all' || card.getAttribute('data-team-status') === filter) {
                            card.style.display = 'flex';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
            
            // Team card dropdown menu
            const menuButtons = document.querySelectorAll('.team-card__menu .btn--icon');
            menuButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const dropdown = this.nextElementSibling;
                    dropdown.classList.toggle('show');
                    
                    // Close other dropdowns
                    document.querySelectorAll('.team-card__dropdown.show').forEach(dd => {
                        if(dd !== dropdown) {
                            dd.classList.remove('show');
                        }
                    });
                });
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function() {
                document.querySelectorAll('.team-card__dropdown.show').forEach(dd => {
                    dd.classList.remove('show');
                });
            });
            
            // Search functionality
            const teamSearchInput = document.getElementById('teamSearchInput');
            if(teamSearchInput) {
                teamSearchInput.addEventListener('input', function() {
                    const searchText = this.value.toLowerCase();
                    const teamCards = document.querySelectorAll('.team-card');
                    
                    teamCards.forEach(card => {
                        const teamName = card.querySelector('.team-card__name').textContent.toLowerCase();
                        if(teamName.includes(searchText)) {
                            card.style.display = 'flex';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            }
            
            // Team avatar upload preview
            const teamAvatarUpload = document.getElementById('teamAvatarUpload');
            const teamAvatarPreview = document.getElementById('teamAvatarPreview');
            
            if(teamAvatarUpload && teamAvatarPreview) {
                teamAvatarUpload.addEventListener('change', function() {
                    const file = this.files[0];
                    if(file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            teamAvatarPreview.innerHTML = `<img src="${e.target.result}" alt="Team Avatar">`;
                        }
                        reader.readAsDataURL(file);
                    }
                });
            }
        });
    </script>
</body>
</html>
